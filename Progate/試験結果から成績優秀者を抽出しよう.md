```
import allResults from "./results.js";

const TOP3 = (results, grade) => {
  const Grouping = (results, grade) => {
    const newResults = results.filter((result) => {
      return result.grade === grade;
    });
    return newResults;
  };

  const calcTotal = () => {
    const resultTotal = newResults.map((result) => {
      return {
        name: result.name,
        total:
          result.points.Japanese +
          result.points.Mathematics +
          result.points.Physics,
      };
    });
    return resultTotal;
  };

  const newResults = Grouping(results, grade);

  const totals = calcTotal();

  totals.sort((a, b) => b.total - a.total);

  return totals.slice(0, 3);
};

const top3Results = TOP3(allResults, 2);
console.log("# Top 3 of total points");
top3Results.forEach((result, index) => {
  console.log(`${index + 1} | 2 | ${result.name} | ${result.total}`);
});

const avg = (result, grade) => {
  const Grouping = (results, grade) => {
    const newResults = results.filter((result) => {
      return result.grade === grade;
    });
    return newResults;
  };

  const newResults = Grouping(result, grade);

  const calcTotal = () => {
    const resultTotal = newResults.map((result) => {
      return (
        result.points.Japanese +
        result.points.Mathematics +
        result.points.Physics
      );
    });
    return resultTotal;
  };

  const resultTotal = calcTotal();

  const total = (resultTotal) => {
    let score = resultTotal.reduce((a, b) => a + b, 0);
    return score;
  };

  const totalScore = total(resultTotal);

  const calcAvg = (totalScore, resultTotal) => {
    return Math.round(totalScore / resultTotal.length);
  };

  return calcAvg(totalScore, resultTotal);
};

console.log("average:", avg(allResults, 2));

```
